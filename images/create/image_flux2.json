{"id":"7c048efb-a059-44e2-970a-43e1eb472d0d","revision":0,"last_node_id":67,"last_link_id":165,"nodes":[{"id":22,"type":"BasicGuider","pos":[-89.48391159058916,22.989274393726127],"size":[222.3482666015625,46],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":165},{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":153}],"outputs":[{"localized_name":"GUIDER","name":"GUIDER","type":"GUIDER","slot_index":0,"links":[30]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"BasicGuider"},"widgets_values":[]},{"id":16,"type":"KSamplerSelect","pos":[-89.48391159058916,112.98927439372616],"size":[222.3482666015625,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null}],"outputs":[{"localized_name":"SAMPLER","name":"SAMPLER","type":"SAMPLER","links":[19]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"KSamplerSelect"},"widgets_values":["euler"]},{"id":13,"type":"SamplerCustomAdvanced","pos":[160.51608840941077,-87.01072560627388],"size":[272.3617858886719,124.53733825683594],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"noise","name":"noise","type":"NOISE","link":37},{"localized_name":"guider","name":"guider","type":"GUIDER","link":30},{"localized_name":"sampler","name":"sampler","type":"SAMPLER","link":19},{"localized_name":"sigmas","name":"sigmas","type":"SIGMAS","link":132},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":161}],"outputs":[{"localized_name":"output","name":"output","type":"LATENT","slot_index":0,"links":[24]},{"localized_name":"denoised_output","name":"denoised_output","type":"LATENT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"SamplerCustomAdvanced"},"widgets_values":[]},{"id":25,"type":"RandomNoise","pos":[-89.48391159058916,-97.01072560627387],"size":[222.3482666015625,82],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"noise_seed","name":"noise_seed","type":"INT","widget":{"name":"noise_seed"},"link":null}],"outputs":[{"localized_name":"NOISE","name":"NOISE","type":"NOISE","links":[37]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"RandomNoise"},"widgets_values":[1056663600436647,"randomize"]},{"id":66,"type":"MarkdownNote","pos":[-1799.4343829743548,-152.46180325309123],"size":[520,500],"flags":{"collapsed":false},"order":2,"mode":0,"inputs":[],"outputs":[],"title":"Model links","properties":{},"widgets_values":["We are using quantized weights in this workflow, the original flux 2 repo is [here](https://huggingface.co/black-forest-labs/FLUX.2-dev/)\n## Report issue\n\nIf you found any issues when running this workflow, [report template issue here](https://github.com/Comfy-Org/workflow_templates/issues)\n\n\n## Model links\n\n**text_encoders**\n\n- [mistral_3_small_flux2_bf16.safetensors](https://huggingface.co/Comfy-Org/flux2-dev/resolve/main/split_files/text_encoders/mistral_3_small_flux2_bf16.safetensors)\n\n**loras**\n\n- [flux2_berthe_morisot.safetensors](https://huggingface.co/ostris/flux2_berthe_morisot/resolve/main/flux2_berthe_morisot.safetensors)\n\n**diffusion_models**\n\n- [flux2_dev_fp8mixed.safetensors](https://huggingface.co/Comfy-Org/flux2-dev/resolve/main/split_files/diffusion_models/flux2_dev_fp8mixed.safetensors)\n\n**vae**\n\n- [flux2-vae.safetensors](https://huggingface.co/Comfy-Org/flux2-dev/resolve/main/split_files/vae/flux2-vae.safetensors)\n\n\nModel Storage Location\n\n```\nðŸ“‚ ComfyUI/\nâ”œâ”€â”€ ðŸ“‚ models/\nâ”‚   â”œâ”€â”€ ðŸ“‚ text_encoders/\nâ”‚   â”‚      â””â”€â”€ mistral_3_small_flux2_bf16.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ loras/\nâ”‚   â”‚      â””â”€â”€ flux2_berthe_morisot.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ diffusion_models/\nâ”‚   â”‚      â””â”€â”€ flux2_dev_fp8mixed.safetensors\nâ”‚   â””â”€â”€ ðŸ“‚ vae/\nâ”‚          â””â”€â”€ flux2-vae.safetensors\n```\n"],"color":"#432","bgcolor":"#653"},{"id":9,"type":"SaveImage","pos":[681.2157246515798,-84.5756855069684],"size":[985.3012084960938,1060.3828125],"flags":{},"order":25,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":9},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"SaveImage"},"widgets_values":["Flux2"]},{"id":8,"type":"VAEDecode","pos":[-111.07032270383144,883.7997574947794],"size":[210,46],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":24},{"localized_name":"vae","name":"vae","type":"VAE","link":159}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[9]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":46,"type":"LoadImage","pos":[-1035.7492665822003,499.0840104659248],"size":[274.080078125,314.00000000000006],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[128]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"LoadImage"},"widgets_values":["Image.PNG","image"]},{"id":67,"type":"LoraLoaderModelOnly","pos":[-707.7101794231947,-299.9513362236332],"size":[362.178867329749,82],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":164},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[165]}],"properties":{"cnr_id":"comfy-core","ver":"0.5.1","Node name for S&R":"LoraLoaderModelOnly","models":[{"name":"flux2_berthe_morisot.safetensors","url":"https://huggingface.co/ostris/flux2_berthe_morisot/resolve/main/flux2_berthe_morisot.safetensors","directory":"loras"}]},"widgets_values":["flux2_berthe_morisot.safetensors",1]},{"id":10,"type":"VAELoader","pos":[-1222.8374998726454,280.6594044153441],"size":[364.98656261227353,68.78049417685384],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[120,127,159]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"VAELoader","models":[{"name":"flux2-vae.safetensors","url":"https://huggingface.co/Comfy-Org/flux2-dev/resolve/main/split_files/vae/flux2-vae.safetensors","directory":"vae"}]},"widgets_values":["flux2-vae.safetensors"]},{"id":38,"type":"CLIPLoader","pos":[-1234.8994676170335,105.75193790863284],"size":[387.2548107557587,106],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[117]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"CLIPLoader","models":[{"name":"mistral_3_small_flux2_bf16.safetensors","url":"https://huggingface.co/Comfy-Org/flux2-dev/resolve/main/split_files/text_encoders/mistral_3_small_flux2_bf16.safetensors","directory":"text_encoders"}]},"widgets_values":["mistral_3_small_flux2_bf16.safetensors","flux2","default"]},{"id":12,"type":"UNETLoader","pos":[-1223.7653435452903,-34.94924819898095],"size":[368.6979373028543,86.63921836322606],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[164]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"UNETLoader","models":[{"name":"flux2_dev_fp8mixed.safetensors","url":"https://huggingface.co/Comfy-Org/flux2-dev/resolve/main/split_files/diffusion_models/flux2_dev_fp8mixed.safetensors","directory":"diffusion_models"}]},"widgets_values":["flux2_dev_fp8mixed.safetensors","default"]},{"id":60,"type":"Note","pos":[-1001.6592877706752,1301.0324028872021],"size":[460,130],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Unbypass (CTRL-B) the ReferenceLatent nodes to give ref images.\n\nIf you want to add more reference images, you can add multiple reference images by following the pattern.\n\nIf you don't want any reference image, just select all ReferenceLatent nodes and then use CTRL-B to bypass them, turning the workflow into a Text to Image workflow."],"color":"#432","bgcolor":"#653"},{"id":45,"type":"ImageScaleToTotalPixels","pos":[-1020.4130075302137,855.5984970450171],"size":[270,82],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":128},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"megapixels","name":"megapixels","type":"FLOAT","widget":{"name":"megapixels"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[126]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"ImageScaleToTotalPixels"},"widgets_values":["lanczos",1]},{"id":44,"type":"VAEEncode","pos":[-915.5087041607375,999.5405507286414],"size":[140,46],"flags":{"collapsed":true},"order":17,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":126},{"localized_name":"vae","name":"vae","type":"VAE","link":127}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[125]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":43,"type":"ReferenceLatent","pos":[-977.143471950563,1060.4536312540774],"size":[204.0999984741211,46],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":144},{"localized_name":"latent","name":"latent","shape":7,"type":"LATENT","link":125}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[145]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"ReferenceLatent"},"widgets_values":[]},{"id":26,"type":"FluxGuidance","pos":[-697.9713102259117,235.98902619158102],"size":[317.4000244140625,58],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":41},{"localized_name":"guidance","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[144]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"FluxGuidance"},"widgets_values":[4],"color":"#233","bgcolor":"#355"},{"id":47,"type":"EmptyFlux2LatentImage","pos":[154.3807549429865,523.9984823025037],"size":[270,106],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":135},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":137},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[161]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"EmptyFlux2LatentImage"},"widgets_values":[1280,720,1]},{"id":51,"type":"PrimitiveNode","pos":[-87.67580675957866,618.9296772961687],"size":[210,82],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","widget":{"name":"height"},"links":[137,138]}],"title":"height","properties":{"Run widget replace on values":false},"widgets_values":[720,"fixed"],"color":"#223","bgcolor":"#335"},{"id":50,"type":"PrimitiveNode","pos":[-87.67580675957866,498.92967729616845],"size":[210,82],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","widget":{"name":"width"},"links":[135,136]}],"title":"width","properties":{"Run widget replace on values":false},"widgets_values":[1280,"fixed"],"color":"#223","bgcolor":"#335"},{"id":39,"type":"ReferenceLatent","pos":[-529.382079082201,1029.0840104659233],"size":[204.0999984741211,46],"flags":{},"order":21,"mode":4,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":145},{"localized_name":"latent","name":"latent","shape":7,"type":"LATENT","link":121}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[153]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"ReferenceLatent"},"widgets_values":[]},{"id":40,"type":"VAEEncode","pos":[-471.66918845720124,989.0840104659233],"size":[140,46],"flags":{"collapsed":true},"order":19,"mode":4,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":122},{"localized_name":"vae","name":"vae","type":"VAE","link":120}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[121]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":42,"type":"LoadImage","pos":[-605.7492665822003,509.0840104659248],"size":[274.080078125,314.00000000000006],"flags":{},"order":10,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[123]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"LoadImage"},"widgets_values":["Screenshot from 2025-12-19 21-28-45.png","image"]},{"id":41,"type":"ImageScaleToTotalPixels","pos":[-601.6691884572003,859.0840104659233],"size":[270,82],"flags":{},"order":16,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":123},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"megapixels","name":"megapixels","type":"FLOAT","widget":{"name":"megapixels"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[122]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"ImageScaleToTotalPixels"},"widgets_values":["lanczos",1]},{"id":48,"type":"Flux2Scheduler","pos":[-89.48391159058916,212.98927439372605],"size":[222.3482666015625,106],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":136},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":138}],"outputs":[{"localized_name":"SIGMAS","name":"SIGMAS","type":"SIGMAS","links":[132]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"Flux2Scheduler"},"widgets_values":[22,1280,720]},{"id":6,"type":"CLIPTextEncode","pos":[-746.7049481834074,-22.05656170256448],"size":[430,200],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":117},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[41]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.71","Node name for S&R":"CLIPTextEncode"},"widgets_values":["A man sitting on a wooden park bench in Central Park, New York City, centered in frame, looking directly at camera, front view, eye contact, wearing a blazer jacket, white dress shirt, and dark trousers, hands resting naturally on his lap, relaxed demeanor, calm facial expression, relaxed demeanor, approachable look, camera at head level, eye-level perspective, skyscrapers visible in the background through green trees, summer day, bright natural daylight, clear blue sky, upper body and partial legs visible, knees in frame, professional photography, sharp focus on face, cinematic composition, photorealistic, high detail, natural colors, soft shadows, golden hour lighting,\ndepth of field, urban park atmosphere"],"color":"#232","bgcolor":"#353"}],"links":[[9,8,0,9,0,"IMAGE"],[19,16,0,13,2,"SAMPLER"],[24,13,0,8,0,"LATENT"],[30,22,0,13,1,"GUIDER"],[37,25,0,13,0,"NOISE"],[41,6,0,26,0,"CONDITIONING"],[117,38,0,6,0,"CLIP"],[120,10,0,40,1,"VAE"],[121,40,0,39,1,"LATENT"],[122,41,0,40,0,"IMAGE"],[123,42,0,41,0,"IMAGE"],[125,44,0,43,1,"LATENT"],[126,45,0,44,0,"IMAGE"],[127,10,0,44,1,"VAE"],[128,46,0,45,0,"IMAGE"],[132,48,0,13,3,"SIGMAS"],[135,50,0,47,0,"INT"],[136,50,0,48,1,"INT"],[137,51,0,47,1,"INT"],[138,51,0,48,2,"INT"],[144,26,0,43,0,"CONDITIONING"],[145,43,0,39,0,"CONDITIONING"],[153,39,0,22,1,"CONDITIONING"],[159,10,0,8,1,"VAE"],[161,47,0,13,4,"LATENT"],[164,12,0,67,0,"MODEL"],[165,67,0,22,0,"MODEL"]],"groups":[{"id":1,"title":"Step 1 - Upload models","bounding":[-1262.1292919317402,-126.86690328865919,449.9356196974385,509.7421120602135],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Custom sampler","bounding":[-99.48391159058917,-167.0107256062739,558.5359191894531,501.6],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Step 4- Image size","bounding":[-97.67580675957866,428.92967729616845,560,285.6],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Step2 - Prompt","bounding":[-756.7049481834074,-92.05656170256445,450,420],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"Step 3- Reference images","bounding":[-1045.7492665822006,429.0840104659248,790,700],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"Ctrl-B to Enable","bounding":[-743.5550948669674,-372.4618032530911,450,170],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.4570787416844026,"offset":[1604.948751195185,617.3035459559128]},"frontendVersion":"1.32.10","workflowRendererVersion":"LG","groupNodes":{},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}